{
  "comments": [
    {
      "key": {
        "uuid": "3ae2911b_8f3f19d6",
        "filename": "repoxplorer/controllers/tops.py",
        "patchSetId": 3
      },
      "lineNbr": 130,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-12-11T10:11:17Z",
      "side": 1,
      "message": "This can be instantiated just once for the new and ref period.",
      "range": {
        "startLine": 128,
        "startChar": 0,
        "endLine": 130,
        "endChar": 31
      },
      "revId": "5daf33fd8dfeccf0dbba1508b86ba90b51cfc9a7",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ae2911b_9224dcaf",
        "filename": "repoxplorer/controllers/tops.py",
        "patchSetId": 3
      },
      "lineNbr": 130,
      "author": {
        "id": 200
      },
      "writtenOn": "2017-12-11T11:40:23Z",
      "side": 1,
      "message": "I have checked it, and I need to reinstantiate at least projects_index, otherwise I get the following error: https://softwarefactory-project.io/etherpad/p/repoxplorer-jpena-issues\n\nLooking deeper, it is apparently caused by https://github.com/morucci/repoxplorer/blob/412b5e9a7c2c58d7e9ff75db0aca47c63ffbf0e9/repoxplorer/index/projects.py#L212, because _enrich_projects does not check if it\u0027s already enriched. I\u0027ll try to fix it there.",
      "parentUuid": "3ae2911b_8f3f19d6",
      "range": {
        "startLine": 128,
        "startChar": 0,
        "endLine": 130,
        "endChar": 31
      },
      "revId": "5daf33fd8dfeccf0dbba1508b86ba90b51cfc9a7",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ae2911b_f27320b3",
        "filename": "repoxplorer/controllers/tops.py",
        "patchSetId": 3
      },
      "lineNbr": 130,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-12-11T12:03:59Z",
      "side": 1,
      "message": "Oh ok, then yes there is an issue with the resolv_filters. Maybe removing projects_index._enrich_projects() will be enough as later in resolv_filters get_projects() is called and this one do the enrich only if not done yet.",
      "parentUuid": "3ae2911b_9224dcaf",
      "range": {
        "startLine": 128,
        "startChar": 0,
        "endLine": 130,
        "endChar": 31
      },
      "revId": "5daf33fd8dfeccf0dbba1508b86ba90b51cfc9a7",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ae2911b_6f250dc1",
        "filename": "repoxplorer/controllers/tops.py",
        "patchSetId": 3
      },
      "lineNbr": 141,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-12-11T10:11:17Z",
      "side": 1,
      "message": "Can be removed.",
      "range": {
        "startLine": 139,
        "startChar": 0,
        "endLine": 141,
        "endChar": 31
      },
      "revId": "5daf33fd8dfeccf0dbba1508b86ba90b51cfc9a7",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ae2911b_2f2f05a3",
        "filename": "repoxplorer/controllers/tops.py",
        "patchSetId": 3
      },
      "lineNbr": 154,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-12-11T10:11:17Z",
      "side": 1,
      "message": "The cid list of authors_old should be computed just once, not in each loop.\n\nUsing set could simplify the code. For instance (not tested):\n\ncids \u003d set([ath[\u0027cid\u0027] for ath in authors_new]) - set([ath[\u0027cid\u0027] for ath in authors_old)\nauthors_diff \u003d [authors_new[cid] for cid in cids]\n\nBut we\u0027ll need to sort again the authors_diff I guess.",
      "range": {
        "startLine": 149,
        "startChar": 0,
        "endLine": 154,
        "endChar": 43
      },
      "revId": "5daf33fd8dfeccf0dbba1508b86ba90b51cfc9a7",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ae2911b_323408dd",
        "filename": "repoxplorer/controllers/tops.py",
        "patchSetId": 3
      },
      "lineNbr": 154,
      "author": {
        "id": 200
      },
      "writtenOn": "2017-12-11T11:40:23Z",
      "side": 1,
      "message": "authors_diff cannot contain just the cid. I\u0027ll look at using sets, but it will have to be a bit different to your proposed code.",
      "parentUuid": "3ae2911b_2f2f05a3",
      "range": {
        "startLine": 149,
        "startChar": 0,
        "endLine": 154,
        "endChar": 43
      },
      "revId": "5daf33fd8dfeccf0dbba1508b86ba90b51cfc9a7",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ae2911b_d2782492",
        "filename": "repoxplorer/controllers/tops.py",
        "patchSetId": 3
      },
      "lineNbr": 154,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-12-11T12:03:59Z",
      "side": 1,
      "message": "This line from the snippet I proposed\nauthors_diff \u003d [authors_new[cid] for cid in cids]\nshould contain the list of authors not only the cid.",
      "parentUuid": "3ae2911b_323408dd",
      "range": {
        "startLine": 149,
        "startChar": 0,
        "endLine": 154,
        "endChar": 43
      },
      "revId": "5daf33fd8dfeccf0dbba1508b86ba90b51cfc9a7",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ae2911b_af11b55f",
        "filename": "repoxplorer/tests/test_functional.py",
        "patchSetId": 3
      },
      "lineNbr": 570,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-12-11T10:11:17Z",
      "side": 1,
      "message": "To improve the test I think we should have someone in the ref period so to do that we can add a new commit of Nakata Daisuke between 2014-01-01 and 2014-09-01 just for the TestTopsController. Others tests in that class will need to be slightly adapted then too.",
      "range": {
        "startLine": 570,
        "startChar": 8,
        "endLine": 570,
        "endChar": 34
      },
      "revId": "5daf33fd8dfeccf0dbba1508b86ba90b51cfc9a7",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ae2911b_f24c4078",
        "filename": "repoxplorer/tests/test_functional.py",
        "patchSetId": 3
      },
      "lineNbr": 570,
      "author": {
        "id": 200
      },
      "writtenOn": "2017-12-11T11:41:08Z",
      "side": 1,
      "message": "Yes, I thought about it. Should it be a follow-up review, to avoid adding this complexity to this one?",
      "parentUuid": "3ae2911b_af11b55f",
      "range": {
        "startLine": 570,
        "startChar": 8,
        "endLine": 570,
        "endChar": 34
      },
      "revId": "5daf33fd8dfeccf0dbba1508b86ba90b51cfc9a7",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ae2911b_b26d98ce",
        "filename": "repoxplorer/tests/test_functional.py",
        "patchSetId": 3
      },
      "lineNbr": 570,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-12-11T12:03:59Z",
      "side": 1,
      "message": "I prefer in this patch :)",
      "parentUuid": "3ae2911b_f24c4078",
      "range": {
        "startLine": 570,
        "startChar": 8,
        "endLine": 570,
        "endChar": 34
      },
      "revId": "5daf33fd8dfeccf0dbba1508b86ba90b51cfc9a7",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ae2911b_125fcc0f",
        "filename": "repoxplorer/tests/test_functional.py",
        "patchSetId": 3
      },
      "lineNbr": 570,
      "author": {
        "id": 200
      },
      "writtenOn": "2017-12-11T12:18:35Z",
      "side": 1,
      "message": "Ack, I\u0027ll add it here.",
      "parentUuid": "3ae2911b_b26d98ce",
      "range": {
        "startLine": 570,
        "startChar": 8,
        "endLine": 570,
        "endChar": 34
      },
      "revId": "5daf33fd8dfeccf0dbba1508b86ba90b51cfc9a7",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    }
  ]
}